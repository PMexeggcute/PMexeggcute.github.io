<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="ğŸ˜˜ğŸ˜˜ğŸ˜˜">
<meta property="og:type" content="website">
<meta property="og:title" content="Sn0r1ax">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Sn0r1ax">
<meta property="og:description" content="ğŸ˜˜ğŸ˜˜ğŸ˜˜">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Sn0r1ax">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Sn0r1ax</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Sn0r1ax</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Sleep all day</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/12/03/FreeRTOS(%E4%B8%80)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Sn0r1ax">
      <meta itemprop="description" content="ğŸ˜˜ğŸ˜˜ğŸ˜˜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sn0r1ax">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/12/03/FreeRTOS(%E4%B8%80)/" class="post-title-link" itemprop="url">FreeRTOSå­¦ä¹ ç¬”è®°(ä¸€) ä»»åŠ¡ç®¡ç†</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2025-12-03 20:07:37" itemprop="dateCreated datePublished" datetime="2025-12-03T20:07:37+08:00">2025-12-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-12-07 23:04:28" itemprop="dateModified" datetime="2025-12-07T23:04:28+08:00">2025-12-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">åµŒå…¥å¼</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/FreeRTOS/" itemprop="url" rel="index"><span itemprop="name">FreeRTOS</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ä»€ä¹ˆæ˜¯ä»»åŠ¡"><a href="#ä»€ä¹ˆæ˜¯ä»»åŠ¡" class="headerlink" title="ä»€ä¹ˆæ˜¯ä»»åŠ¡"></a>ä»€ä¹ˆæ˜¯ä»»åŠ¡</h2><p>åœ¨ FreeRTOS ä¸­ï¼Œ<strong>ä»»åŠ¡ï¼ˆTaskï¼‰æ˜¯å†…æ ¸è°ƒåº¦çš„åŸºæœ¬æ‰§è¡Œå•ä½</strong>ã€‚<br> å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç‹¬ç«‹è¿è¡Œçš„å‡½æ•°ï¼Œå¹¶ä¸”æ‹¥æœ‰è‡ªå·±çš„è¿è¡Œç¯å¢ƒã€‚</p>
<p>FreeRTOS ä¸ºæ¯ä¸ªä»»åŠ¡åˆ†é…ä¸¤å—ç‹¬ç«‹çš„å†…å­˜ï¼š</p>
<ul>
<li><strong>TCBï¼ˆTask Control Blockï¼‰</strong>ï¼šä¿å­˜ä»»åŠ¡çš„å…ƒä¿¡æ¯ï¼Œä¾‹å¦‚ä¼˜å…ˆçº§ã€çŠ¶æ€ã€ä¸Šä¸‹æ–‡æŒ‡é’ˆç­‰ã€‚</li>
<li><strong>ä»»åŠ¡æ ˆï¼ˆStackï¼‰</strong>ï¼šä¿å­˜æ­¤ä»»åŠ¡çš„å±€éƒ¨å˜é‡ã€å‡½æ•°è°ƒç”¨ç°åœºå’Œå¯„å­˜å™¨ä¸Šä¸‹æ–‡ã€‚</li>
</ul>
<p>ä»»åŠ¡ä¹‹é—´çš„æ ˆç©ºé—´ç›¸äº’ç‹¬ç«‹ï¼Œå› æ­¤æ¯ä¸ªä»»åŠ¡å¯ä»¥åƒâ€œå•ç‹¬è¿è¡Œâ€çš„ç¨‹åºä¸€æ ·æ‰§è¡Œè‡ªå·±çš„é€»è¾‘ã€‚</p>
<p>è™½ç„¶å•æ ¸ MCU åœ¨ä»»æ„æ—¶åˆ»åªèƒ½æ‰§è¡Œä¸€æ¡æŒ‡ä»¤ï¼Œä½† FreeRTOS é€šè¿‡<strong>ä¼˜å…ˆçº§è°ƒåº¦</strong>å’Œ<strong>å¿«é€Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢</strong>è®©å¤šä¸ªä»»åŠ¡â€œè½®æµè¿è¡Œâ€ï¼Œä»è€Œè¡¨ç°å‡ºç±»ä¼¼å¤šçº¿ç¨‹çš„æ•ˆæœã€‚</p>
<blockquote>
<p><strong>å› æ­¤ï¼Œä»»åŠ¡å¯ä»¥ç†è§£ä¸ºï¼šFreeRTOS ä¸­ç”±è°ƒåº¦å™¨ç®¡ç†çš„ç‹¬ç«‹æ‰§è¡Œå•å…ƒï¼Œæ˜¯æ•´ä¸ªç³»ç»Ÿä¸­æœ€å°çš„å¯è°ƒåº¦å¯¹è±¡ã€‚</strong></p>
</blockquote>
<p>ä¸€ä¸ªæœ€ç®€å•çš„ä»»åŠ¡é•¿è¿™æ ·</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">StartDefaultTask</span><span class="params">(<span class="type">void</span> *argument)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">/* Infinite loop */</span></span><br><span class="line">  <span class="keyword">for</span>(;;)</span><br><span class="line">  &#123;</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="ä»»åŠ¡çš„çŠ¶æ€æœºåŠå…¶ç”Ÿå‘½å‘¨æœŸ"><a href="#ä»»åŠ¡çš„çŠ¶æ€æœºåŠå…¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ä»»åŠ¡çš„çŠ¶æ€æœºåŠå…¶ç”Ÿå‘½å‘¨æœŸ"></a>ä»»åŠ¡çš„çŠ¶æ€æœºåŠå…¶ç”Ÿå‘½å‘¨æœŸ</h2><p>ä¸€ä¸ªä»»åŠ¡åŒ…å«å››ç§çŠ¶æ€, åˆšåˆ›å»ºæ—¶çš„<strong>å°±ç»ªæ€(Ready)</strong>, æ‰§è¡Œæ—¶çš„<strong>è¿è¡Œæ€(Runing)</strong>, é˜»å¡æ—¶çš„<strong>é˜»å¡æ€(Blocked)</strong>, æš‚åœæ—¶çš„<strong>æŒ‚èµ·æ€(Suspended)</strong></p>
<p>å½“ç„¶è¿˜æœ‰è¢«<strong>delete</strong>åçš„çŠ¶æ€, è¿™é‡Œä¸åˆ—å…¥å…¶ä¸­</p>
<h3 id="å¦‚ä½•åˆ›å»ºä¸€ä¸ªä»»åŠ¡"><a href="#å¦‚ä½•åˆ›å»ºä¸€ä¸ªä»»åŠ¡" class="headerlink" title="å¦‚ä½•åˆ›å»ºä¸€ä¸ªä»»åŠ¡"></a>å¦‚ä½•åˆ›å»ºä¸€ä¸ªä»»åŠ¡</h3><h4 id="å‡½æ•°å‚æ•°åŠè¿”å›å€¼"><a href="#å‡½æ•°å‚æ•°åŠè¿”å›å€¼" class="headerlink" title="å‡½æ•°å‚æ•°åŠè¿”å›å€¼"></a>å‡½æ•°å‚æ•°åŠè¿”å›å€¼</h4><p>FreeRTOSæä¾›äº†6ä¸ªapiå‡½æ•°ä¾›æˆ‘ä»¬ä½¿ç”¨, åˆ†åˆ«æ˜¯:</p>
<p><code>xTaskCreate(), xTaskCreateStatic(),xTaskCreateRestricted(), xTaskCreateRestrictedStatic(), xTaskCreateAffinitySet(), and xTaskCreateStaticAffinitySet()</code></p>
<p>å…¶ä¸­æœ€åŸºç¡€çš„æ˜¯<code>xTaskCreate()</code>, å‡½æ•°å®šä¹‰å¦‚ä¸‹:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">BaseType_t <span class="title function_">xTaskCreate</span><span class="params">( TaskFunction_t pvTaskCode,</span></span><br><span class="line"><span class="params"><span class="type">const</span> <span class="type">char</span> * <span class="type">const</span> pcName,</span></span><br><span class="line"><span class="params">configSTACK_DEPTH_TYPE usStackDepth,</span></span><br><span class="line"><span class="params"><span class="type">void</span> * pvParameters,</span></span><br><span class="line"><span class="params">UBaseType_t uxPriority,</span></span><br><span class="line"><span class="params">TaskHandle_t * pxCreatedTask )</span>;</span><br></pre></td></tr></table></figure>

<p>å¦å¤–æä¸€å˜´, FreeRTOSè¿™ä¸ªé¡¹ç›®ä½¿ç”¨çš„å‘½åæ–¹æ³•å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§<strong>åŒˆç‰™åˆ©å‘½åæ³•çš„å˜ä½“</strong>, é€šè¿‡åœ¨å˜é‡åå‰åŠ â€™iâ€™, â€˜uâ€™ ä¹‹ç±»çš„å•è¯è¡¨ç¤ºå˜é‡çš„ç±»å‹</p>
<p>å¦‚uxPriority å°±æ˜¯æŒ‡çš„unsigned basetype (basetypeåœ¨ä¸åŒçš„æ¶æ„ä¸Šä½æ•°ä¸åŒ, å¦‚32ä½æ¶æ„ä¸‹æ˜¯32ä½, 64ä½ä¸‹åˆ™æ˜¯64ä½)</p>
<p>è¯è¯´å›æ¥, ä»‹ç»ä¸€ä¸‹å…¶ä¸­çš„å‚æ•°åŠè¿”å›å€¼</p>
<p><strong>å‚æ•°:</strong></p>
<ul>
<li>pvTaskCode: è¯¥å‚æ•°ä¸ºæŒ‡å‘ä»»åŠ¡çš„å‡½æ•°çš„æŒ‡é’ˆ</li>
<li>pcName: ç”¨äºè°ƒè¯•æ—¶æ˜¾ç¤ºçš„ä»»åŠ¡åç§°, å¯ç½®NULL, <code>configMAX_TASK_NAME_LEN</code>è®°å½•äº†å…¶æœ€å¤§é•¿åº¦</li>
<li>usStackDepth: ç”¨äºæŒ‡å®šåˆ†é…ç»™ä»»åŠ¡ä½¿ç”¨çš„å †æ ˆå¤§å°, è¯¥å€¼æŒ‡å®šçš„æ˜¯å †æ ˆå¯å®¹çº³çš„å­—èŠ‚æ•°, å³ å¦‚æœè¯¥å‚æ•°ä¸º128, åˆ™ä¼šåˆ†é…128 * 4 ä¸ªå­—èŠ‚çš„å †æ ˆç©ºé—´. <code>configSTACK_DEPTH_TYPE</code>è§„å®šäº†ç”¨äºä¿å­˜å †æ ˆå¤§å°çš„æ•°æ®ç±»å‹, é»˜è®¤ä¸º<code>uint16_t</code>, æ„å‘³ç€å¦‚æœå †æ ˆæ·±åº¦ä¹˜ä»¥å †æ ˆå®½åº¦å¤§äº65535æ—¶ä¼šå‘ç”Ÿæº¢å‡º</li>
<li>pvParameters: ç”¨äºç»™ä»»åŠ¡çš„å‚æ•°ä¼ å€¼</li>
<li>uxPriority: è¯¥ä»»åŠ¡çš„ä¼˜å…ˆçº§, èŒƒå›´ä¸º0åˆ°<code>configMAX_PRIORITIES - 1</code></li>
<li>pxCreatedTask: ç”¨äºå‚¨å­˜è¯¥ä»»åŠ¡çš„å¥æŸ„, å¯ç½®NULL</li>
</ul>
<p><strong>è¿”å›å€¼:</strong></p>
<ul>
<li>pdPASS: æ ‡å¿—ç€ä»»åŠ¡è¢«æˆåŠŸåˆ›å»º</li>
<li>pdFAIL: è¡¨æ˜æ²¡æœ‰è¶³å¤Ÿçš„å †å†…å­˜åˆ›å»ºä»»åŠ¡</li>
</ul>
<h4 id="ä¸åŒçš„ä»»åŠ¡åˆ›å»ºå‡½æ•°"><a href="#ä¸åŒçš„ä»»åŠ¡åˆ›å»ºå‡½æ•°" class="headerlink" title="ä¸åŒçš„ä»»åŠ¡åˆ›å»ºå‡½æ•°"></a>ä¸åŒçš„ä»»åŠ¡åˆ›å»ºå‡½æ•°</h4><p>ä»å¦å¤–äº”ä¸ªå‡½æ•°ä¸­å¯ä»¥æå–å‡ºè¿™å‡ ä¸ªå…³é”®è¯, <strong>static</strong>, <strong>Restricted</strong>, <strong>AffinitySet</strong></p>
<p>å…¶ä¸­:</p>
<ul>
<li>staticè¡¨ç¤ºä½¿ç”¨é™æ€çš„å†…å­˜, å’Œcè¯­è¨€ä¸­staticä¸€ä¸ªä½œç”¨, ä¸å¤šèµ˜è¿°</li>
<li>restrictedè¡¨ç¤ºåˆ›å»ºçš„ä»»åŠ¡çš„æƒé™å—åˆ°é™åˆ¶, æ— æ³•è®¿é—®ç³»ç»Ÿå†…å­˜</li>
<li>affinityè¡¨ç¤ºå¯ç”¨äºå¤šæ ¸å¤„ç†å™¨çš„ä»»åŠ¡, æ”¯æŒSymmetric Multi Processing(SMP)</li>
</ul>
<h4 id="åˆ›å»ºä»»åŠ¡çš„ä¸åŒå§¿åŠ¿"><a href="#åˆ›å»ºä»»åŠ¡çš„ä¸åŒå§¿åŠ¿" class="headerlink" title="åˆ›å»ºä»»åŠ¡çš„ä¸åŒå§¿åŠ¿"></a>åˆ›å»ºä»»åŠ¡çš„ä¸åŒå§¿åŠ¿</h4><p>ç®€å•çš„åˆ›å»ºå‡ ä¸ªä»»åŠ¡</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">( <span class="type">void</span> )</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * Variables declared here may no longer exist after starting the FreeRTOS</span></span><br><span class="line"><span class="comment">    * scheduler. Do not attempt to access variables declared on the stack used</span></span><br><span class="line"><span class="comment">    * by main() from tasks.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * Create one of the two tasks. Note that a real application should check</span></span><br><span class="line"><span class="comment">    * the return value of the xTaskCreate() call to ensure the task was</span></span><br><span class="line"><span class="comment">    * created successfully.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    xTaskCreate( vTask1, <span class="comment">/* Pointer to the function that implements the task.*/</span></span><br><span class="line">    <span class="string">&quot;Task 1&quot;</span>,<span class="comment">/* Text name for the task. */</span></span><br><span class="line">    <span class="number">1000</span>, <span class="comment">/* Stack depth in words. */</span></span><br><span class="line">    <span class="literal">NULL</span>, <span class="comment">/* This example does not use the task parameter. */</span></span><br><span class="line">    <span class="number">1</span>, <span class="comment">/* This task will run at priority 1. */</span></span><br><span class="line">    <span class="literal">NULL</span> ); <span class="comment">/* This example does not use the task handle. */</span></span><br><span class="line">    <span class="comment">/* Create the other task in exactly the same way and at the same priority.*/</span></span><br><span class="line">    xTaskCreate( vTask2, <span class="string">&quot;Task 2&quot;</span>, <span class="number">1000</span>, <span class="literal">NULL</span>, <span class="number">1</span>, <span class="literal">NULL</span> );</span><br><span class="line">    <span class="comment">/* Start the scheduler so the tasks start executing. */</span></span><br><span class="line">    vTaskStartScheduler();</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * If all is well main() will not reach here because the scheduler will now</span></span><br><span class="line"><span class="comment">    * be running the created tasks. If main() does reach here then there was</span></span><br><span class="line"><span class="comment">    * not enough heap memory to create either the idle or timer tasks</span></span><br><span class="line"><span class="comment">    * (described later in this book). Chapter 3 provides more information on</span></span><br><span class="line"><span class="comment">    * heap memory management.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">for</span>( ;; );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªä»»åŠ¡ä¸æ­¢èƒ½åœ¨<code>main</code>å‡½æ•°é‡Œåˆ›å»º, è¿˜å¯ä»¥åœ¨ä»»åŠ¡ä¹‹ä¸­è¿›è¡Œä»»åŠ¡çš„åˆ›å»º</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">vTask1</span><span class="params">( <span class="type">void</span> * pvParameters )</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *pcTaskName = <span class="string">&quot;Task 1 is running\r\n&quot;</span>;</span><br><span class="line">    <span class="keyword">volatile</span> <span class="type">unsigned</span> <span class="type">long</span> ul; <span class="comment">/* volatile to ensure ul is not optimized away. */</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * If this task code is executing then the scheduler must already have</span></span><br><span class="line"><span class="comment">    * been started. Create the other task before entering the infinite loop.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    xTaskCreate( vTask2, <span class="string">&quot;Task 2&quot;</span>, <span class="number">1000</span>, <span class="literal">NULL</span>, <span class="number">1</span>, <span class="literal">NULL</span> );</span><br><span class="line">    <span class="keyword">for</span>( ;; )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* Print out the name of this task. */</span></span><br><span class="line">        vPrintLine( pcTaskName );</span><br><span class="line">        <span class="comment">/* Delay for a period. */</span></span><br><span class="line">        <span class="keyword">for</span>( ul = <span class="number">0</span>; ul &lt; mainDELAY_LOOP_COUNT; ul++ )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            * This loop is just a very crude delay implementation. There is</span></span><br><span class="line"><span class="comment">            * nothing to do in here. Later examples will replace this crude</span></span><br><span class="line"><span class="comment">            * loop with a proper delay/sleep function.</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä»»åŠ¡æ¨¡æ¿è¿›è¡Œå®ä¾‹çš„åˆ›å»º</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">vTaskFunction</span><span class="params">( <span class="type">void</span> * pvParameters )</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *pcTaskName;</span><br><span class="line">    <span class="keyword">volatile</span> <span class="type">unsigned</span> <span class="type">long</span> ul; <span class="comment">/* volatile to ensure ul is not optimized away. */</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * The string to print out is passed in via the parameter. Cast this to a</span></span><br><span class="line"><span class="comment">    * character pointer.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    pcTaskName = ( <span class="type">char</span> * ) pvParameters;</span><br><span class="line">    <span class="comment">/* As per most tasks, this task is implemented in an infinite loop. */</span></span><br><span class="line">    <span class="keyword">for</span>( ;; )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* Print out the name of this task. */</span></span><br><span class="line">        vPrintLine( pcTaskName );</span><br><span class="line">        <span class="comment">/* Delay for a period. */</span></span><br><span class="line">        <span class="keyword">for</span>( ul = <span class="number">0</span>; ul &lt; mainDELAY_LOOP_COUNT; ul++ )</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * This loop is just a very crude delay implementation. There is</span></span><br><span class="line"><span class="comment">        * nothing to do in here. Later exercises will replace this crude</span></span><br><span class="line"><span class="comment">        * loop with a proper delay/sleep function.</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Define the strings that will be passed in as the task parameters. These are</span></span><br><span class="line"><span class="comment">* defined const and not on the stack used by main() to ensure they remain</span></span><br><span class="line"><span class="comment">* valid when the tasks are executing.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">static</span> <span class="type">const</span> <span class="type">char</span> * pcTextForTask1 = <span class="string">&quot;Task 1 is running&quot;</span>;</span><br><span class="line"><span class="type">static</span> <span class="type">const</span> <span class="type">char</span> * pcTextForTask2 = <span class="string">&quot;Task 2 is running&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">( <span class="type">void</span> )</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * Variables declared here may no longer exist after starting the FreeRTOS</span></span><br><span class="line"><span class="comment">    * scheduler. Do not attempt to access variables declared on the stack used</span></span><br><span class="line"><span class="comment">    * by main() from tasks.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="comment">/* Create one of the two tasks. */</span></span><br><span class="line">    xTaskCreate( vTaskFunction, <span class="comment">/* Pointer to the function that implements the task. */</span></span><br><span class="line">    <span class="string">&quot;Task 1&quot;</span>, <span class="comment">/* Text name for the task. This is to facilitate debugging only. */</span></span><br><span class="line">    <span class="number">1000</span>, <span class="comment">/* Stack depth - small  microcontrollers will use much less stack than this.*/</span></span><br><span class="line">    ( <span class="type">void</span> * ) pcTextForTask1, <span class="comment">/* Pass the text to be printed into the task using the task parameter.*/</span></span><br><span class="line">    <span class="number">1</span>, <span class="comment">/* This task will run at priority 1.*/</span></span><br><span class="line">    <span class="literal">NULL</span> ); <span class="comment">/* The task handle is not used in this example. */</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * Create the other task in exactly the same way. Note this time that</span></span><br><span class="line"><span class="comment">    * multiple tasks are being created from the SAME task implementation</span></span><br><span class="line"><span class="comment">    * (vTaskFunction). Only the value passed in the parameter is different.</span></span><br><span class="line"><span class="comment">    * Two instances of the same task definition are being created.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    xTaskCreate( vTaskFunction,</span><br><span class="line">    <span class="string">&quot;Task 2&quot;</span>,</span><br><span class="line">    <span class="number">1000</span>,</span><br><span class="line">    ( <span class="type">void</span> * ) pcTextForTask2,</span><br><span class="line">    <span class="number">1</span>,</span><br><span class="line">    <span class="literal">NULL</span> );</span><br><span class="line">    <span class="comment">/* Start the scheduler so the tasks start executing. */</span></span><br><span class="line">    vTaskStartScheduler();</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * If all is well main() will not reach here because the scheduler will</span></span><br><span class="line"><span class="comment">    * now be running the created tasks. If main() does reach here then there</span></span><br><span class="line"><span class="comment">    * was not enough heap memory to create either the idle or timer tasks</span></span><br><span class="line"><span class="comment">    * (described later in this book). Chapter 3 provides more information on</span></span><br><span class="line"><span class="comment">    * heap memory management.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">for</span>( ;; )</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å››ç§çŠ¶æ€"><a href="#å››ç§çŠ¶æ€" class="headerlink" title="å››ç§çŠ¶æ€"></a>å››ç§çŠ¶æ€</h3><h4 id="å°±ç»ªæ€å’Œè¿è¡Œæ€"><a href="#å°±ç»ªæ€å’Œè¿è¡Œæ€" class="headerlink" title="å°±ç»ªæ€å’Œè¿è¡Œæ€"></a>å°±ç»ªæ€å’Œè¿è¡Œæ€</h4><p>é‚£ä¹ˆåˆ›å»ºå®Œä¸€ä¸ªä»»åŠ¡ä¹‹å, å…¶é»˜è®¤ä¼šå¤„äº<strong>å°±ç»ªæ€</strong></p>
<p>é‚£ä¹ˆæœ‰äº†<strong>å°±ç»ªæ€</strong>, æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä»»åŠ¡è‚¯å®šæƒ³è¦è®©ä»–æ‰§è¡Œ, äºæ˜¯æœ‰äº†<strong>è¿è¡Œæ€</strong></p>
<p>è¿è¡Œå®Œæ¯•çš„ä»»åŠ¡å›åˆ°å°±ç»ªæ€, ç„¶åä»å°±ç»ªæ€ä¸­é€‰ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œ, é‚£ä¹ˆæœ€ç®€å•çš„ä¸€ä¸ªæ¨¡å‹è¯ç”Ÿäº†</p>
<p><img src="/../images/FreeRTOS/0.png" alt="0"></p>
<p>è¿™é‡Œæä¸€å˜´ä¼˜å…ˆçº§, é¡¾åæ€ä¹‰, ä¼˜å…ˆçº§å†³å®šäº†å“ªä¸ªä»»åŠ¡èƒ½å¤Ÿå…ˆæ‰§è¡Œ</p>
<p>ä¸Šæ–‡è¿˜è¯´åˆ°, freertosé€šè¿‡ä¸æ–­åœ°ä¸Šä¸‹æ–‡åˆ‡æ¢è¾¾åˆ°â€ä¼ªâ€å¤šçº¿ç¨‹çš„ç›®çš„</p>
<p>é‚£ä¹ˆåœ¨æ¯æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ—¶å€™éƒ½ä¼šæ ¹æ®ä¼˜å…ˆçº§å†³å®šè°ä¼šè¢«é€‰ä¸­ä¸ºä¸‹ä¸€ä¸ªè¿è¡Œçš„ä»»åŠ¡</p>
<p>è¯•æƒ³ä»¥ä¸‹åœºæ™¯: æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªä¼˜å…ˆçº§ä¸åŒçš„ä»»åŠ¡, è¯·é—®è¿™ä¸¤ä¸ªä»»åŠ¡ä¼šå¦‚ä½•æ‰§è¡Œ?</p>
<p>ç­”æ¡ˆæ˜¾è€Œæ˜“è§, ä½ä¼˜å…ˆçº§çš„ä»»åŠ¡ä¼šè¢«é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡<strong>é¥¿æ­»</strong></p>
<p>é‚£ä¹ˆæˆ‘ä»¬ä¸¤ä¸ªçŠ¶æ€çš„æ¨¡å‹å°±ä¸å¤Ÿç”¨äº†</p>
<p>äºæ˜¯è¯ç”Ÿäº†<strong>é˜»å¡æ€</strong>å’Œ<strong>æŒ‚èµ·æ€</strong></p>
<h4 id="é˜»å¡æ€å’ŒæŒ‚èµ·æ€"><a href="#é˜»å¡æ€å’ŒæŒ‚èµ·æ€" class="headerlink" title="é˜»å¡æ€å’ŒæŒ‚èµ·æ€"></a>é˜»å¡æ€å’ŒæŒ‚èµ·æ€</h4><p>å½“æä¼˜å…ˆçº§çš„ä»»åŠ¡è¿›å…¥é˜»å¡æ€å, é‚£ä¹ˆå°±ç»ªæ€å°±åªå‰©ä¸‹ä½ä¼˜å…ˆçº§çš„ä»»åŠ¡å¯ä»¥æ‰§è¡Œäº†</p>
<p>è¿™æ ·, ä½ä¼˜å…ˆçº§çš„ä»»åŠ¡å°±é¥¿ä¸æ­»äº†</p>
<p><strong>é˜»å¡æ€</strong>åˆ†ä¸ºä¸¤ç§ç±»å‹:</p>
<p><strong>æ—¶é—´(Temporal)äº‹ä»¶</strong>å’Œ<strong>åŒæ­¥(Synchronization)äº‹ä»¶</strong></p>
<p><strong>åŒæ­¥äº‹ä»¶</strong>å¯ç”±FreeRTOS é˜Ÿåˆ—ã€äºŒè¿›åˆ¶ä¿¡å·é‡ã€è®¡æ•°ä¿¡å·é‡ã€äº’æ–¥ä½“ã€é€’å½’äº’æ–¥ä½“ã€äº‹ä»¶ç»„ã€æµç¼“å†²åŒºã€æ¶ˆæ¯ç¼“å†²åŒºå’Œç›´æ¥ä»»åŠ¡é€šçŸ¥äº§ç”Ÿ</p>
<p>ä»»åŠ¡å¯ä»¥é˜»å¡åŒæ­¥äº‹ä»¶å¹¶è®¾ç½®è¶…æ—¶ï¼Œä»è€Œæœ‰æ•ˆåœ°åŒæ—¶é˜»å¡ä¸¤ç§ç±»å‹çš„äº‹ä»¶ã€‚ä¾‹å¦‚ï¼Œä»»åŠ¡å¯ä»¥é€‰æ‹©ç­‰å¾…æœ€å¤š 10 æ¯«ç§’ä»¥ä¾¿æ•°æ®åˆ°è¾¾é˜Ÿåˆ—ã€‚å¦‚æœ 10 æ¯«ç§’å†…æœ‰æ•°æ®åˆ°è¾¾æˆ– 10 æ¯«ç§’åæ²¡æœ‰æ•°æ®åˆ°è¾¾ï¼Œä»»åŠ¡å°†ç¦»å¼€é˜»å¡çŠ¶æ€</p>
<p><strong>æ—¶é—´äº‹ä»¶</strong>ä¼šåœ¨æŒ‡å®šæ—¶é—´åˆ°è¾¾æˆ–è¿‡å»ä¸€å®šæ—¶é—´åå‘ç”Ÿ</p>
<p>å¯¹åº”<code>void vTaskDelay( TickType_t xTicksToDelay )</code>å’Œ</p>
<p><code>void vTaskDelayUntil( TickType_t * pxPreviousWakeTime, TickType_t xTimeIncrement )</code>å‡½æ•°</p>
<p>é€šè¿‡è¿™ä¸¤ä¸ªå‡½æ•°å³å¯è®¾å®šä¸€ä¸ªä»»åŠ¡æ‰§è¡Œçš„é¢‘ç‡</p>
<p>å…¶ä¸­<code>xTicksToDelay </code>å‚æ•°æŒ‡çš„æ˜¯æ‰€éœ€ç­‰å¾…çš„tickæ•°, é€šè¿‡<code>pdMS_TO_TICKS()</code>å‡½æ•°å°†æ¯«ç§’æ•°è½¬æ¢ä¸ºtickæ•°</p>
<p>tickæ•°å’Œmcuçš„é¢‘ç‡æŒ‚é’©, æ‰€ä»¥é€šè¿‡å‡½æ•°å°†æ¯«ç§’æ•°è¿›è¡Œè½¬æ¢å¯ä»¥é¿å…å› é¢‘ç‡æ›´æ”¹å¸¦æ¥çš„é”™è¯¯</p>
<p><code>pxPreviousWakeTime</code>å‚æ•°æŒ‡çš„æ˜¯å½“å‰çš„tickæ•°, <code>xTimeIncrement </code>æŒ‡å®šå¤šå°‘tickäº§ç”Ÿä¸€æ¬¡äº‹ä»¶</p>
<p><code>pxPreviousWakeTime</code>ä»…éœ€æŒ‡å®šä¸€æ¬¡, ä¹‹åä¼šåœ¨å‡½æ•°å†…è‡ªå¢</p>
<p>ä¸¤ä¸ªå‡½æ•°ä¸åŒç‚¹åœ¨äº, å‰è€…æ˜¯ç›¸å¯¹çš„, è€Œåè€…æ˜¯ç»å¯¹çš„</p>
<p>ä½¿ç”¨ç¤ºä¾‹</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">vTaskFunction</span><span class="params">( <span class="type">void</span> * pvParameters )</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> * pcTaskName;</span><br><span class="line">    <span class="type">const</span> TickType_t xDelay250ms = pdMS_TO_TICKS( <span class="number">250</span> );</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * The string to print out is passed in via the parameter. Cast this to a</span></span><br><span class="line"><span class="comment">    * character pointer.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    pcTaskName = ( <span class="type">char</span> * ) pvParameters;</span><br><span class="line">    <span class="comment">/* As per most tasks, this task is implemented in an infinite loop. */</span></span><br><span class="line">    <span class="keyword">for</span>( ;; )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* Print out the name of this task. */</span></span><br><span class="line">        vPrintLine( pcTaskName );</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * Delay for a period. This time a call to vTaskDelay() is used which</span></span><br><span class="line"><span class="comment">        * places the task into the Blocked state until the delay period has</span></span><br><span class="line"><span class="comment">        * expired. The parameter takes a time specified in &#x27;ticks&#x27;, and the</span></span><br><span class="line"><span class="comment">        * pdMS_TO_TICKS() macro is used (where the xDelay250ms constant is</span></span><br><span class="line"><span class="comment">        * declared) to convert 250 milliseconds into an equivalent time in</span></span><br><span class="line"><span class="comment">        * ticks.</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        vTaskDelay( xDelay250ms );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">vTaskFunction</span><span class="params">( <span class="type">void</span> * pvParameters )</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> * pcTaskName;</span><br><span class="line">    TickType_t xLastWakeTime;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * The string to print out is passed in via the parameter. Cast this to a</span></span><br><span class="line"><span class="comment">    * character pointer.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    pcTaskName = ( <span class="type">char</span> * ) pvParameters;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * The xLastWakeTime variable needs to be initialized with the current tick</span></span><br><span class="line"><span class="comment">    * count. Note that this is the only time the variable is written to</span></span><br><span class="line"><span class="comment">    * explicitly. After this xLastWakeTime is automatically updated within</span></span><br><span class="line"><span class="comment">    * vTaskDelayUntil().</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    xLastWakeTime = xTaskGetTickCount();</span><br><span class="line">    <span class="comment">/* As per most tasks, this task is implemented in an infinite loop. */</span></span><br><span class="line">    <span class="keyword">for</span>( ;; )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* Print out the name of this task. */</span></span><br><span class="line">        vPrintLine( pcTaskName );</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * This task should execute every 250 milliseconds exactly. As per</span></span><br><span class="line"><span class="comment">        * the vTaskDelay() function, time is measured in ticks, and the</span></span><br><span class="line"><span class="comment">        * pdMS_TO_TICKS() macro is used to convert milliseconds into ticks.</span></span><br><span class="line"><span class="comment">        * xLastWakeTime is automatically updated within vTaskDelayUntil(), so</span></span><br><span class="line"><span class="comment">        * is not explicitly updated by the task.</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        vTaskDelayUntil( &amp;xLastWakeTime, pdMS_TO_TICKS( <span class="number">250</span> ) );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æŒ‚èµ·æ€</strong></p>
<p>å¤„äºæŒ‚èµ·çŠ¶æ€çš„ä»»åŠ¡ä¸å¯ç”¨äºè°ƒåº¦ç¨‹åºã€‚è¿›å…¥æŒ‚èµ·çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯é€šè¿‡è°ƒç”¨ <code>vTaskSuspend() </code>API å‡½æ•°ï¼Œè€Œé€€å‡ºçŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯è°ƒç”¨ <code>vTaskResume() </code>æˆ– <code>xTaskResumeFromISR()</code> API å‡½æ•°ã€‚å¤§å¤šæ•°åº”ç”¨ç¨‹åºä¸ä½¿ç”¨æŒ‚èµ·çŠ¶æ€</p>
<p><img src="/../images/FreeRTOS/1.png" alt="1"></p>
<p>è‡³æ­¤, æ€»ç»“å‡ºå››ç§çŠ¶æ€çš„çŠ¶æ€è½¬æ¢å›¾</p>
<h3 id="åˆ é™¤-Delete-ä¸€ä¸ªä»»åŠ¡"><a href="#åˆ é™¤-Delete-ä¸€ä¸ªä»»åŠ¡" class="headerlink" title="åˆ é™¤(Delete)ä¸€ä¸ªä»»åŠ¡"></a>åˆ é™¤(Delete)ä¸€ä¸ªä»»åŠ¡</h3><p><code>vTaskDelete()</code> API å‡½æ•°åˆ é™¤ä»»åŠ¡ã€‚ä»…å½“ FreeRTOSConfig.h ä¸­çš„ <code>INCLUDE_vTaskDelete</code> è®¾ç½®ä¸º 1 æ—¶ï¼Œ<code>vTaskDelete()</code> API å‡½æ•°æ‰å¯ç”¨</p>
<p><code>void vTaskDelete( TaskHandle_t xTaskToDelete )</code>é€šè¿‡ä¼ é€’ä»»åŠ¡å¥æŸ„çš„æŒ‡é’ˆå®Œæˆåˆ é™¤</p>
<p>å½“ä»»åŠ¡è¢«åˆ é™¤æ—¶ï¼Œåªæœ‰å†…æ ¸æœ¬èº«åˆ†é…ç»™ä»»åŠ¡çš„å†…å­˜æ‰ä¼šè¢«è‡ªåŠ¨é‡Šæ”¾ã€‚å¦‚æœä¸å†éœ€è¦ï¼Œåœ¨ä»»åŠ¡æ‰§è¡ŒæœŸé—´åˆ†é…çš„ä»»ä½•å†…å­˜æˆ–å…¶ä»–èµ„æºéƒ½å¿…é¡»æ˜¾å¼é‡Šæ”¾</p>
<p>å½“ä»»åŠ¡è¢«åˆ é™¤æ—¶, å†…æ ¸æœ¬èº«åˆ†é…ç»™ä»»åŠ¡çš„èµ„æºç”±<strong>ç©ºé—²ä»»åŠ¡</strong>æ¥è¿›è¡Œé‡Šæ”¾</p>
<p>è¿™é‡Œæš‚ä¸”æŠŠç©ºé—²ä»»åŠ¡çœ‹ä½œä¸ºä¸€ä¸ª<strong>æœ€ä½ä¼˜å…ˆçº§çš„</strong>, <strong>åªåœ¨å°±ç»ªæ€åªå­˜åœ¨ç©ºé—²ä»»åŠ¡æ—¶æ‰æ‰§è¡Œ</strong>çš„ä¸€ä¸ªä»»åŠ¡</p>
<p>å› ä¸ºèµ„æºéœ€è¦é€šè¿‡ç©ºé—²ä»»åŠ¡æ¥è¿›è¡Œé‡Šæ”¾, æ‰€ä»¥éœ€è¦<strong>ä¿è¯ç©ºé—²ä»»åŠ¡ä¸è¢«é¥¿æ­»</strong>, ä¹‹åä¼šè¯´æ˜</p>
<h2 id="è°ƒåº¦ç®—æ³•"><a href="#è°ƒåº¦ç®—æ³•" class="headerlink" title="è°ƒåº¦ç®—æ³•"></a>è°ƒåº¦ç®—æ³•</h2><p>è°ƒåº¦å™¨â€¦.</p>
<h3 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h3><h3 id="æ—¶é—´ç‰‡"><a href="#æ—¶é—´ç‰‡" class="headerlink" title="æ—¶é—´ç‰‡"></a>æ—¶é—´ç‰‡</h3><h3 id="æŠ¢å å¼ä¸åä½œå¼"><a href="#æŠ¢å å¼ä¸åä½œå¼" class="headerlink" title="æŠ¢å å¼ä¸åä½œå¼"></a>æŠ¢å å¼ä¸åä½œå¼</h3><h3 id="ç©ºé—²ä»»åŠ¡"><a href="#ç©ºé—²ä»»åŠ¡" class="headerlink" title="ç©ºé—²ä»»åŠ¡"></a>ç©ºé—²ä»»åŠ¡</h3><h2 id="ä¸Šä¸‹æ–‡åˆ‡æ¢åŸç†"><a href="#ä¸Šä¸‹æ–‡åˆ‡æ¢åŸç†" class="headerlink" title="ä¸Šä¸‹æ–‡åˆ‡æ¢åŸç†"></a>ä¸Šä¸‹æ–‡åˆ‡æ¢åŸç†</h2><h2 id="TLSä¸å¯é‡å…¥"><a href="#TLSä¸å¯é‡å…¥" class="headerlink" title="TLSä¸å¯é‡å…¥"></a>TLSä¸å¯é‡å…¥</h2><p>Six API functions may be used to create tasks: xTaskCreate(), xTaskCreateStatic(),<br>xTaskCreateRestricted(), xTaskCreateRestrictedStatic(), xTaskCreateAffinitySet(), and<br>xTaskCreateStaticAffinitySet()</p>
<p>staticå…³é”®å­—å’Œcè¯­è¨€å…³é”®å­—ç›¸åŒ</p>
<p>restrictedâ€ or â€œunprivilegedâ€ mode å†³å®šèƒ½å¦ä½¿ç”¨ç³»ç»Ÿå†…å­˜ æƒé™ç®¡ç†ä¸‹èƒ½ç®¡</p>
<p>Affinity ä¾›å¤šæ ¸å¤„ç†å™¨ä½¿ç”¨çš„æ¨¡å¼ support Symmetric Multi Processing (SMP) allow different tasks to run simultaneously on<br>multiple cores of the same CPU</p>
<p>Each task requires two blocks of RAM: one to hold its Task Control Block (TCB) and one to store its stack.</p>
<p>If a task that was created using dynamic memory allocation later deletes itself, the Idle task is responsible for<br>freeing the memory allocated for use</p>
<p>Note: Only memory allocated to a task by the kernel itself is freed automatically when the task is deleted.<br>Any memory or other resource that was allocated during the implementation of the task must be freed<br>explicitly if it is no longer needed.</p>
<p>In a multi-tasking application the application writer must take care that a resource is not accessed by more<br>than one task simultaneously, as simultaneous access could corrupt the resource. As an example, consider the<br>following scenario in which the accessed resource is a UART (serial port). Two tasks write strings to the UART;<br>Task 1 writes â€œabcdefghijklmnopâ€, and Task 2 writes â€œ123456789â€:</p>
<ol>
<li>Task 1 is in the Running state and starts to write its string. It writes â€œabcdefgâ€ to the UART, but leaves the<br> Running state before writing any further characters.</li>
<li>Task 2 enters the Running state and writes â€œ123456789â€ to the UART, before leaving the Running state.</li>
<li>Task 1 re-enters the Running state and writes the remaining characters of its string to the UART.<br> In that scenario, what is actually written to the UART is â€œabcdefg123456789hijklmnopâ€. The string written by<br>   Task 1 has not been written to the UART in an unbroken sequence as intended, but instead it has been<br>   corrupted, because the string written to the UART by Task 2 appears within it.<br>   Using the cooperative scheduler normally makes it easier to avoid problems caused by simultaneous access<br>   than when using the preemptive scheduler</li>
</ol>
<p>å¤„ç†è¿ç»­å‘é€æƒ…å†µ, ä½†ä¸€èˆ¬æœ‰æ›´å¥½çš„è¿›ç¨‹é—´é€šä¿¡æ–¹å¼</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/28/HAL%E5%BA%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Sn0r1ax">
      <meta itemprop="description" content="ğŸ˜˜ğŸ˜˜ğŸ˜˜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sn0r1ax">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/11/28/HAL%E5%BA%93/" class="post-title-link" itemprop="url">HALåº“å­¦ä¹ éšç¬”</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2025-11-28 20:58:41" itemprop="dateCreated datePublished" datetime="2025-11-28T20:58:41+08:00">2025-11-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-12-01 15:09:16" itemprop="dateModified" datetime="2025-12-01T15:09:16+08:00">2025-12-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">åµŒå…¥å¼</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          Here's something encrypted, password is required to continue reading.
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2025/11/28/HAL%E5%BA%93/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/11/27/CAN%E6%80%BB%E7%BA%BF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Sn0r1ax">
      <meta itemprop="description" content="ğŸ˜˜ğŸ˜˜ğŸ˜˜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sn0r1ax">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/11/27/CAN%E6%80%BB%E7%BA%BF/" class="post-title-link" itemprop="url">CANæ€»çº¿å­¦ä¹ ç¬”è®°</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2025-11-27 22:44:33 / ä¿®æ”¹æ—¶é—´ï¼š22:46:03" itemprop="dateCreated datePublished" datetime="2025-11-27T22:44:33+08:00">2025-11-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">åµŒå…¥å¼</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CAN/" itemprop="url" rel="index"><span itemprop="name">CAN</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          Here's something encrypted, password is required to continue reading.
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2025/11/27/CAN%E6%80%BB%E7%BA%BF/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/07/15/l3hcf2025-wp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Sn0r1ax">
      <meta itemprop="description" content="ğŸ˜˜ğŸ˜˜ğŸ˜˜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sn0r1ax">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/07/15/l3hcf2025-wp/" class="post-title-link" itemprop="url">l3hcf2025 wp</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2025-07-15 17:16:03" itemprop="dateCreated datePublished" datetime="2025-07-15T17:16:03+08:00">2025-07-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-26 21:33:52" itemprop="dateModified" datetime="2025-09-26T21:33:52+08:00">2025-09-26</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          Here's something encrypted, password is required to continue reading.
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2025/07/15/l3hcf2025-wp/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/06/04/%E4%BB%8ED-Link_DIR815%E8%B7%AF%E7%94%B1%E5%99%A8%E7%BB%8F%E5%85%B8%E6%BC%8F%E6%B4%9E%E5%BC%80%E5%90%AFIOT%E4%B9%8B%E6%97%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Sn0r1ax">
      <meta itemprop="description" content="ğŸ˜˜ğŸ˜˜ğŸ˜˜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sn0r1ax">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/06/04/%E4%BB%8ED-Link_DIR815%E8%B7%AF%E7%94%B1%E5%99%A8%E7%BB%8F%E5%85%B8%E6%BC%8F%E6%B4%9E%E5%BC%80%E5%90%AFIOT%E4%B9%8B%E6%97%85/" class="post-title-link" itemprop="url">ä»D-Link_DIR815è·¯ç”±å™¨ç»å…¸æ¼æ´å¼€å¯IOTä¹‹æ—…</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2025-06-04 20:36:59" itemprop="dateCreated datePublished" datetime="2025-06-04T20:36:59+08:00">2025-06-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-06-08 21:04:49" itemprop="dateModified" datetime="2025-06-08T21:04:49+08:00">2025-06-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>ä¸ªäººæ„Ÿè§‰éº»çƒ¦çš„ç‚¹åœ¨äºç¯å¢ƒçš„æ­å»º(åˆå›åˆ°æœ€åˆä¸€ç“¶å†œå¤«å±±æ³‰æé‚£é…ä¸€å¤©ç¯å¢ƒçš„æ—¥å­,ä¸€ä¸ªç‚¹æ²¡æ³¨æ„å°±å‡ºé—®é¢˜,ç”šè‡³æ¡Œä¸Šçš„å†œå¤«å±±æ³‰éƒ½æ¢æˆäº†æ€¡å®),æœ¬æ–‡ç€é‡è®°å½•ä¸‹è‡ªå·±è¸©å¾—å‘,å¯¹äºæ¼æ´çš„è¯¦ç»†åˆ†æå¯ä»¥çœ‹çœ‹å‚è€ƒæ–‡ç« .ç„¶åå…³äºIOTé€šä¿¡è¿˜æ¶‰åŠåˆ°httpåè®®å’Œcgi,æˆ‘ä¹Ÿä»¥æˆ‘çš„ç†è§£ç®€å•ä»‹ç»ä¸‹</p>
<p>è¿˜ä»‹ç»äº†çº¯ropé“¾å’Œshellcodeä¸¤ç§æ¼æ´åˆ©ç”¨æ–¹æ³•,æåˆ°shellcodeæ¥getshellæ—¶å‡ºç°çš„ä¸€äº›é—®é¢˜</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2025/06/04/%E4%BB%8ED-Link_DIR815%E8%B7%AF%E7%94%B1%E5%99%A8%E7%BB%8F%E5%85%B8%E6%BC%8F%E6%B4%9E%E5%BC%80%E5%90%AFIOT%E4%B9%8B%E6%97%85/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/31/MIPS%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Sn0r1ax">
      <meta itemprop="description" content="ğŸ˜˜ğŸ˜˜ğŸ˜˜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sn0r1ax">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/05/31/MIPS%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">MIPSåŸºç¡€</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2025-05-31 13:37:27" itemprop="dateCreated datePublished" datetime="2025-05-31T13:37:27+08:00">2025-05-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-26 21:12:14" itemprop="dateModified" datetime="2025-09-26T21:12:14+08:00">2025-09-26</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          Here's something encrypted, password is required to continue reading.
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2025/05/31/MIPS%E5%9F%BA%E7%A1%80/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/27/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Sn0r1ax">
      <meta itemprop="description" content="ğŸ˜˜ğŸ˜˜ğŸ˜˜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sn0r1ax">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/05/27/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/" class="post-title-link" itemprop="url">æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2025-05-27 19:47:42" itemprop="dateCreated datePublished" datetime="2025-05-27T19:47:42+08:00">2025-05-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-26 21:12:50" itemprop="dateModified" datetime="2025-09-26T21:12:50+08:00">2025-09-26</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          Here's something encrypted, password is required to continue reading.
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2025/05/27/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/26/IO-file%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Sn0r1ax">
      <meta itemprop="description" content="ğŸ˜˜ğŸ˜˜ğŸ˜˜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sn0r1ax">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/05/26/IO-file%E5%85%A5%E9%97%A8/" class="post-title-link" itemprop="url">IO fileå…¥é—¨</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2025-05-26 17:19:33" itemprop="dateCreated datePublished" datetime="2025-05-26T17:19:33+08:00">2025-05-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-26 21:12:25" itemprop="dateModified" datetime="2025-09-26T21:12:25+08:00">2025-09-26</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          Here's something encrypted, password is required to continue reading.
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2025/05/26/IO-file%E5%85%A5%E9%97%A8/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/23/House-Of-Rabbit/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Sn0r1ax">
      <meta itemprop="description" content="ğŸ˜˜ğŸ˜˜ğŸ˜˜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sn0r1ax">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/05/23/House-Of-Rabbit/" class="post-title-link" itemprop="url">House Of Rabbit</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2025-05-23 13:52:32" itemprop="dateCreated datePublished" datetime="2025-05-23T13:52:32+08:00">2025-05-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-07-06 16:24:52" itemprop="dateModified" datetime="2025-07-06T16:24:52+08:00">2025-07-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>libc2.26ä»¥å<code>unlink</code>æ–°å¢äº†å¯¹sizeåŸŸçš„æ£€æµ‹(æ£€æŸ¥sizeå’Œåä¸€ä¸ªå †å—çš„prev_sizeæ˜¯å¦åŒ¹é…)</p>
<p>libc2.27ä»¥ååŠ å…¥äº†å¯¹fastbinçš„æ£€æŸ¥,æ£€æŸ¥chunkçš„å¤§å°å’Œfastbinæ˜¯å¦åŒ¹é…</p>
<p>è¦æ±‚:fastbinçš„sizeåŸŸæˆ–fdåŸŸå¯æ§</p>
<p>ä½œç”¨:æ„é€ overlapping chunk</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2025/05/23/House-Of-Rabbit/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/05/22/House-Of-Orange/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="Sn0r1ax">
      <meta itemprop="description" content="ğŸ˜˜ğŸ˜˜ğŸ˜˜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sn0r1ax">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/05/22/House-Of-Orange/" class="post-title-link" itemprop="url">House Of Orange</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2025-05-22 14:59:31" itemprop="dateCreated datePublished" datetime="2025-05-22T14:59:31+08:00">2025-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-05-26 22:29:39" itemprop="dateModified" datetime="2025-05-26T22:29:39+08:00">2025-05-26</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>ä½œç”¨:åœ¨ç¨‹åºæ²¡æœ‰<code>free</code>å‡½æ•°çš„æƒ…å†µä¸‹å°†ä¸€ä¸ª<code>chunk</code>æ”¾åˆ°unsorted binä¸­</p>
<p>è¦æ±‚:èƒ½å¤Ÿæ§åˆ¶<code>top chunk</code>çš„sizeåŸŸ</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2025/05/22/House-Of-Orange/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Sn0r1ax"
      src="/uploads/avatar.png">
  <p class="site-author-name" itemprop="name">Sn0r1ax</p>
  <div class="site-description" itemprop="description">ğŸ˜˜ğŸ˜˜ğŸ˜˜</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">30</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/PMexeggcute" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;PMexeggcute" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sn0r1ax</span>
</div>

<!-- <br /> --> <!-- ç½‘ç«™è¿è¡Œæ—¶é—´çš„è®¾ç½® --> <span id="timeDate">è½½å…¥å¤©æ•°...</span> <!-- <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span> --> <script>   var now = new Date();   function createtime() {     var grt= new Date("11/17/2022 8:00:00");//æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´     now.setTime(now.getTime()+250);     days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);     hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);     if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);     mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}     seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);     snum = Math.round(seconds);      if(String(snum).length ==1 ){snum = "0" + snum;}     // var times = document.getElementById("times").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’";     document.getElementById("timeDate").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ "+dnum+" å¤© "+hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’";   } setInterval("createtime()",250); </script>

<!-- <br /> -->
<!-- ç½‘ç«™è¿è¡Œæ—¶é—´çš„è®¾ç½® -->
<span id="timeDate">...</span>
<!-- <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span> -->
<script>
 Â   var now = new Date();
 Â   function createtime() {
 Â  Â  Â   var grt= new Date("3/10/2025 8:00:00");//æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
 Â  Â  Â   now.setTime(now.getTime()+250);
 Â  Â  Â   days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
 Â  Â  Â   hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
 Â  Â  Â   if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
 Â  Â  Â   mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
 Â  Â  Â   seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
 Â  Â  Â   snum = Math.round(seconds); 
 Â  Â  Â   if(String(snum).length ==1 ){snum = "0" + snum;}
 Â  Â  Â   // var times = document.getElementById("times").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’";
 Â  Â  Â   document.getElementById("timeDate").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ "+dnum+" å¤© "+hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’";
 Â   }
setInterval("createtime()",250);
</script>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


</body>
</html>
